# Operating System #01

### #01:: Introduction & Structures

현재 컴퓨터 운영체제의 80%의 시장점유율을 가지는 마이크로소프트사의 윈도우, 개발자들 및 디자이너들에게 수요가 높은 Apple사의 매킨토시등 현재 우리가 사용하는 컴퓨터엔 다양한 운영체제가 존재한다. 이러한 운영체제의 기본적인 지식과 원리를 알아야 더 나은 개발자로 나아질 수 있다. 이러한 이유때문에 나는 OS에 대한 내용을 정리하려고한다.

**이 포스팅의 내용** 

1. 컴퓨터 시스템의 기본 구성을 설명하고, 운영체제의 주요 구성 요소를 둘러볼 것이다.

  		2. 다양한 컴퓨팅 환경의 운영체제들을 둘러보고 몇몇의 오픈소스 운영체제를 공부할 것이다.

<br>

<br>

<br>

##### 1. 운영체제란 무엇인가?

​		우리가 보편적으로 사용하는 윈도우를 생각하면 이해하기 쉽다. 결국 운영체제는 사용자가 안전하고 편리하게 컴퓨터의 기능을 사용하기 위해서 개발된 프로그램이다. 이러한 배경지식을 통해 알 수 있는 운영체제의 최종 목표는 다음과 같다.

	1. 유저가 사용하는 어플리케이션을 실행을 도와준다.
 	2. 사용자가 컴퓨터 시스템을 편리하게 사용하도록 도와준다.
 	3. 하드웨어 자원을 효율적으로 관리하여준다.

이러한 목표를 가지고 개발된 것이 운영체제이다. 운영체제를 사용하는 컴퓨터 시스템은 크게 4가지 구성요소로  `하드웨어`,`운영체제`,`애플리케이션[프로그램]`,`유저` 로 나눌 수 있다.

​		**하드웨어**

​		  가장 근본적인 컴퓨팅 리소스를 제공한다. CPU, Memory, I/O devices가 이에 해당한다.

​		**운영체제**

​		  우리가 공부하는 운영체제로 어플리케이션과 유저가 제한된 컴퓨팅 자원을 효율적으로 사용할 수 있도록 제어 및 조정한다. 

​		**애플리케이션**

​		  사용자가 해결하고자 하는 문제를 시스템 리소스를 사용하여 문제를 해결하는 방식을 정의한 것이다.

​		  흔히 우리가 사용하는 거의 모든 프로그램이 여기에 해당한다.

​		**유저**

​		  사람 또는 기계 또는 다른 컴퓨터가 이에 해당한다.

오늘날 컴퓨터 시스템은 이러한 구조로 개발되었으며 각각 구성요소마다 많은 예시가 존재한다. 우리는 그 중에서 운영체제에 대해서 공부할 것이다.

<br>

**2 . 운영체제는 뭘 해? **

​		사용자는 세세한건 신경 쓰지 않고 프로그램을 사용하기 편하고 쉽고 좋은 성능을 원한다.  그럼 세세한 것은 운영체제가 처리하겠구나 생각할 수 있다. 그 생각이 맞다. 운영체제는 쓰레드를 이용하여 사용자가 불편함 없이 여러가지 작업을 할 수 있도록 도와주는 기능을 포함하고 있다. 또한 서버안에서 여러 사용자가 불편함 없이 작업 할 수 있도록 하는 기능을 포함하고있다. 그 밖에도 많은 기능을 포함하고 있지만 후에 이야기하도록 할 것이다.

<br>

**3. 운영체제를 정확하게 알아보자**

그럼 운영체제의 정의는 무엇일까?  운영체제의 정의는 두가지로 아래와 같다.

 1. 운영체제는 리소스 할당자이다.

    모든 컴퓨터 리소스를 관리하며, 사용자 요청에 따라 효율적 또는 공정한 리소스 사용의 상충안을 결정하는 역할을 한다.

	2. 운영체제는 프로그램을 컨트롤 해주는 컨트롤러이다.

    사용자가 요청한 작업에 예외가 발생함에 따라 예외를 해주어 사용자가 더욱더 편하게 컴퓨터를 사용할 수 있도록 해줍니다.

사실 운영체제는 쉽사리 이렇다할 정의를 할 수없습니다.한 학자는 운영체제의 정의를 이렇다라고 말했습니다.

> "Everthing a vendor ships when you order an operating system"

공급업체에게 운영체제를 달라고 했을 떄 주는 모든 것을 운영체제라고 표현하였는 데 그만큼 쉽사리 운영체제를 이렇다! 하고 정의하기 어렵다는 것을 알 수 잇습니다.

우리는 이러한 운영체제를 알기 위해서는 컴퓨터 구조에 대한 사전지식이 필요합니다. 왜냐하면 컴퓨터 구조에 맞는 운영체제를 개발자들이 개발하였기 때문입니다. 현재 컴퓨터는 폰노이만 구조를 따르고 있습니다. 자세한 내용은 차 후 컴퓨터구조 포스팅에서 다룰 예정입니다.

<br>

**3. 운영체제를 알기위해서 컴퓨터구조를 맛만보자**

  컴퓨터 시스템은  `cpu` , `disk controller` , `USB Controller` , `graphics adapter` 로 크게 4가지로 나눌수 있으며 버스형식으로 공유메모리를 사용하여 연결되어 있습니다.  결국 이러한 디바이스가 동시실행 되기 위해서는 공유 메모리를 효율적으로 다뤄 충돌이 없도록 만들어야합니다. 그림을 그리자면 아래와 같습니다.

![Computer_System_Organization](C:\Users\USER\workspace\yoonyoung97.github.io\assets\img\Computer_System_Organization.png)

어떤 원리로 동작되어야 우리가 사용하는 컴퓨터처럼 키보드의 인풋을 바로바로 모니터의 아웃풋으로 띄울 수 있을까를 한번 생각해봅시다. 그걸 알기 위해선 우리는 컴퓨터 시스템의 오퍼레이션들의 특성을 알아야합니다.

입출력 장치들과 CPU는 장치 컨트롤러에 의해 동시에 작동할 수 있습니다. 이러한 이유는 로컬 버퍼와 인터럽트가 존재하기 때문입니다. 인터럽트는 컴퓨터구조에서 설명 드리겠지만 장치들의 시작/끝에서 발생하는 어떠한 신호라고 생각하면 쉽습니다.  

각 디바이스 컨트롤러는 특정 장치를 담당하며, 각각의 로컬 버퍼가 존재합니다. 이러한 로컬 버퍼는 CPU가 작업하는 데 도움을 줍니다. 

CPU는 데이터를 메모리에서 로컬버퍼, 로컬버퍼에서 메모리로 옮길 수 있습니다. 이러한 작업 때문에 우리가 저장하는 정보가 다른 디바이스의 출력으로 넘길 수 있습니다.

<br>

**3-1 인터럽트의 공통적인 기능** 

​	1. 인터럽트는 일반적으로 모든 서비스의 루틴 주소를 포함하는 `인터럽트 벡터[주소/기능]`를 통하여 서비스를 제어합니다.

​	2. 인터럽트는 반드시 인터럽트 발생시킨 명령의 주소를 포함해야합니다.

	3. `Trap`과 `Exception`은 소프트웨어에서 발생시킨 인터럽트입니다. 이러한 인터럽트는 에러 또는 사용자의 요청에의해 발생합니다.
 	4. 운영체제는 인터럽트에 의해 제어됩니다.

<br>

**3-2 인터럽트를 다루는 CPU**

  위에서 CPU가 인터럽트를 다룬다고 언급한 적이 있습니다. 어떠한 방식으로 인터럽트를 다루는 지 알아봅시다.운영체제는 프로그램 카운터와 레지스터를 이용하여 CPU가 어떠한 작업을 수행하는 상태를 유지시켜줍니다. 그럼 CPU는 어떻게 입력을 받아들여 상태를 변환할까?를 알아보면 두가지 방법이 존재한다.

**polling **

​	사용자가 명령어를 사용하여 입력 핀의 값을 주기적으로 읽어 변화를 알아차리는 방식

**인터럽트**

​	하드웨어적으로 그 변화를 체크하여 변화시에 일정한 동작을 하는 방식

이러한 두가지 방법이 존재하는데 polling은 소프트웨어적으로 개발할 수 있고, 인터럽트는 하드웨어적으로 구현을 해야한다. 소프트웨어로 구현가능한 polling을 제외한 인터럽터가 어떻게 작동하는지 간략하게 알아보려한다.



**Interrupt TimeLine** 

![Interrupt_timeline](C:\Users\USER\workspace\yoonyoung97.github.io\assets\img\Interrupt_timeline.png)

  입출력장치를 프린터기라고 생각하면 이 그림을 이해하기가 쉬워진다. 프린터가 실행할 때 transferring으로 내려가고 완료되면 다시 idle로 신호가 바뀐다 여기서 transferring 에서 idle로 바뀔때 CPU에게 인터럽트가 넘어가 프린터기의 작업을 완전히 끝내고 다시 원래 작업으로 돌아가게 된다.

<br>

<br>

**3-3 입출력 특성**

입출력에는 두가지 시나리오가 존재합니다. 하나는 입출력이 시작된 후 , 완료될 때까지 사용자 프로그램이 아무것도 못하는 경우와, 입출력이 시작된 후, 완료하지 않아도 사용자 프로그램이 제어할 수 있는 경우 두가지로 나뉩니다.

 **입출력이 시작된 후, 입출력 완료시에만 제어권이 다시 사용자 프로그램에 넘어가는 경우**에는 wait 명령어를 사용하여 CPU를 대기상태로 만듭니다. 반대로  **입출력이 시작된 후, 입출력이 끝나지 않았는데 제어권이 다시 사용자 프로그램에 넘어가는 경우**엔 시스템 콜을 사용합니다.

<br>

**3-4 스토리지에 대해서 ** 

스토리지는 크게  `Main Memory` ,`Secondary Storage` 이 두가지로 나뉜다. 메인 메모리는 우리가 흔히 아는 램으로 DRAM이 이에 해당한다. 세컨더리 스토리지는 



​	

​		



